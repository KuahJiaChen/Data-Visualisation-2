{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": {"text": "Highlight !!! Life expectancy Rankings", "frame": "bounds"},
    "width": 600,
    "height": 300,
    "data": {
      "url": "https://raw.githubusercontent.com/KuahJiaChen/Data-Visualisation-2/main/dataset/bump_chart.csv"
    },
    "transform": [
      {
        "sort": [{"field": "life_expectancy", "order": "descending"}],
        "window": [{"op": "rank", "as": "rank"}],
        "groupby": ["year"]
      }
    ],
    "layer": [
      {
        "mark": {"type": "line", "orient": "vertical", "size": 3,"opacity":0.5},
        "encoding": {
          "x": {"field": "year", "type": "ordinal", "axis": {"labelAngle": 360}},
          "y": {"field": "rank", "type": "ordinal"},
          "color": {
            "field": "country",
            "type": "nominal",
            "scale": {
              "domain": [
                "Bangladesh",
                "Brazil",
                "China",
                "Indonesia",
                "India",
                "Mexico",
                "Nigeria",
                "Pakistan",
                "Russia",
                "United States"
              ],
              "range": [
                "black",
                "#127153",
                "#C91A3C",
                "red",
                "green",
                "grey",
                "yellow",
                "orange",
                "purple",
                "darkblue"
              ]
            }
          }
        }
      },
      {
        "mark": {
          "type": "point",
          "orient": "vertical",
          "size": 500,
          "filled": true,
          "opacity":0.7
        },
        "encoding": {
          "x": {"field": "year", "type": "ordinal", "axis": {"labelAngle": 360}},
          "y": {"field": "rank", "type": "ordinal"},
          "color": {
            "field": "country",
            "type": "nominal",
            "scale": {
              "domain": [
                "Bangladesh",
                "Brazil",
                "China",
                "Indonesia",
                "India",
                "Mexico",
                "Nigeria",
                "Pakistan",
                "Russia",
                "United States"
              ],
              "range": [
                "black",
                "#127153",
                "#C91A3C",
                "red",
                "green",
                "grey",
                "yellow",
                "orange",
                "purple",
                "darkblue"
              ]
            }
          },"tooltip": [
            {"field": "country", "type": "nominal","title": "Country Name"},
            {"field": "year", "type": "quantitative", "title": "Year"},
            {"field": "life_expectancy", "type": "quantitative", "title": "Life Expectancy","format": ".2f"},
            {"field": "rank", "type": "quantitative", "format": ",", "title": "Rank"}
          ]
        }
      }
    ]
  }